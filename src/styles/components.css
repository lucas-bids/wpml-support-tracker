.card {
  background: var(--panel);
  border: 0;
  border-radius: var(--radius-xl);
  padding: var(--card-padding);
}

.btn {
  background: var(--panel);
  border: 0;
  color: var(--text);
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-md);
  cursor: pointer;
  line-height: var(--line-height);
}
.btn.primary { border-color: transparent; background: var(--accent); color: #fff; }
.btn.primary:hover { background: var(--accent-light); }
.btn.danger { border: 0; background: var(--danger); color: #fff; }
.btn:disabled { opacity: 0.6; cursor: not-allowed; }

.input, .select {
  width: 100%;
  padding: var(--input-padding);
  background: var(--panel);
  color: var(--text);
  border: 0;
  border-radius: var(--radius-md);
  line-height: var(--line-height);
}
.input:focus, .select:focus {
  outline: 2px solid var(--accent-light);
  outline-offset: 2px;
}

.row { 
  display: flex; 
  gap: var(--space-2); 
  align-items: center; 
}
.space-between { 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
}
.muted { color: var(--muted); font-size: var(--fs-sm); }
.title { 
  font-weight: 700; 
  font-size: var(--fs-xl); 
  margin-top: 0;
  margin-bottom: var(--heading-margin-bottom);
}
.header { 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  margin-bottom: var(--section-gap); 
}
.month-label { 
  min-width: 200px; 
  text-align: center; 
  font-weight: 600; 
  margin: 0 var(--space-2);
}

.list { 
  list-style: decimal; 
  padding-left: var(--space-5); 
}
.list li { 
  margin: var(--space-1) 0; 
  line-height: var(--line-height);
}

.kpi { 
  display: grid; 
  grid-template-columns: repeat(3, 1fr); 
  gap: var(--space-3); 
}
.kpi .item { 
  background: var(--panel); 
  border: 0; 
  padding: var(--space-3); 
  border-radius: var(--radius-lg); 
}
.kpi .item .label { 
  color: var(--muted); 
  font-size: var(--fs-xs); 
  margin-bottom: var(--space-1);
  line-height: var(--line-height);
}
.kpi .item .value { 
  font-size: var(--fs-2xl); 
  font-weight: 700; 
  line-height: var(--line-height);
}

/* Utility classes for consistent spacing */
.mt-0 { margin-top: 0; }
.mt-1 { margin-top: var(--space-1); }
.mt-2 { margin-top: var(--space-2); }
.mt-3 { margin-top: var(--space-3); }
.mt-4 { margin-top: var(--space-4); }

.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: var(--space-1); }
.mb-2 { margin-bottom: var(--space-2); }
.mb-3 { margin-bottom: var(--space-3); }
.mb-4 { margin-bottom: var(--space-4); }

.ml-1 { margin-left: var(--space-1); }
.ml-2 { margin-left: var(--space-2); }
.ml-3 { margin-left: var(--space-3); }

.mr-1 { margin-right: var(--space-1); }
.mr-2 { margin-right: var(--space-2); }
.mr-3 { margin-right: var(--space-3); }

.gap-1 { gap: var(--space-1); }
.gap-2 { gap: var(--space-2); }
.gap-3 { gap: var(--space-3); }
.gap-4 { gap: var(--space-4); }

/* Form specific spacing */
form label {
  display: block;
  margin-top: var(--form-label-margin-top);
  margin-bottom: var(--form-label-margin-bottom);
}

form label span, .row label span {
  display: block;
  margin-bottom: var(--space-2);
}

/* Section spacing */
.section {
  margin-bottom: var(--section-gap);
}

/* Card content spacing */
.card > *:not(:last-child) {
  margin-bottom: var(--space-3);
}


/* Header layout tweaks: perfectly center month label between arrows */
:root {
  /* width for header arrow buttons */
  --header-icon-size: clamp(36px, 4vw, 44px);
}

/* Turn the left header group into a 3-column grid:
   [prev button | flexible center label | next button] */
.header-left {
  display: grid;
  grid-template-columns: var(--header-icon-size) 1fr var(--header-icon-size);
  align-items: center;
  column-gap: var(--space-2);
  white-space: nowrap;     /* keep label on one line */
}

/* Make the two arrow buttons identical width and centered */
.header-left .btn {
  width: 100%;             /* fill the grid cell width */
  display: inline-flex;
  justify-content: center; /* center the arrow glyph */
  align-items: center;
  padding-left: 0;         /* avoid widening the cell */
  padding-right: 0;
  min-width: 0;            /* allow shrink if needed */
  flex: 0 0 auto;          /* ignore any flex rules elsewhere */
}

/* Center the label and allow graceful truncation if space is tight */
.header-left .month-label {
  text-align: center;
  font-weight: 600;
  margin: 0;               /* rely on column-gap for spacing */
  overflow: hidden;
  text-overflow: ellipsis; /* “…August 2025” won’t push layout */
  min-width: 0;            /* enable ellipsis in grid */
}

/* Keep overall header layout as-is */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--section-gap);
}

.calendar {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: var(--space-1);
  user-select: none;
}
.calendar__head {
  text-align: center;
  font-size: 12px;
  padding: var(--space-1) 0;
}
.calendar__cell {
  height: 38px;
  border-radius: var(--radius-md);
  display: inline-flex;
  justify-content: center;
  align-items: center;
  font-weight: 600;
  font-variant-numeric: tabular-nums;
  border: 0;
  background: var(--panel);
  color: var(--text);
  padding: 0;
  line-height: 1;
}
.calendar__cell.is-weekday { background: var(--accent-bg); }
.calendar__cell.is-weekday:not(.is-off) { background: var(--accent-bg); }
.calendar__cell.is-weekday.is-off {
  background: rgba(176, 39, 39, 0.25);
  border-color: rgba(176, 39, 39, 0.45);
}
.calendar__cell.is-weekend,
.calendar__cell--pad {
  background: #EEF2F7;
  color: var(--muted);
  border: 0;
}
.calendar__cell[disabled] {
  opacity: 0.7;
  cursor: default;
}
.calendar__cell:is(:hover, :focus-visible):not([disabled]) {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  background: var(--accent-bg);
}
.calendar-legend {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
}
.chip {
  width: 12px;
  height: 12px;
  border-radius: var(--radius-sm);
  display: inline-block;
  border: 0;
}
.chip--work {
  background: var(--accent-bg);
  border-color: #C7D2FE;
}
.chip--off {
  background: rgba(176, 39, 39, 0.6);
  border-color: rgba(176, 39, 39, 0.7);
}
.chip--nonwork {
  background: #EEF2F7;
}


/* --- Dashboard two-column layout --- */
.dashboard-grid {
  display: grid;
  grid-template-columns: 1.4fr 1fr; /* left main col wider than right */
  gap: var(--section-gap);
  align-items: start; /* let cards size naturally */
}

/* collapse to single column on smaller screens */
@media (max-width: 900px) {
  .dashboard-grid {
    grid-template-columns: 1fr;
  }
}

/* left column structure: 3 rows (quick add, row of 2, row of 2) */
.left-col {
  display: grid;
  gap: var(--section-gap);
}

/* rows 2 and 3 are two equal internal columns */
.left-row-2,
.left-row-3 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--section-gap);
}

/* Daily total card: dark blue variant with light text */
.left-row-2 > .card:first-child {
  background: var(--accent);
  color: #fff;
}
.left-row-2 > .card:first-child .muted { color: rgba(255, 255, 255, 0.85); }

@media (max-width: 700px) {
  .left-row-2,
  .left-row-3 {
    grid-template-columns: 1fr; /* stack on narrow screens */
  }
}

/* right column: 3 rows where the ticket list spans the first two */
.right-col {
  display: grid;
  gap: var(--section-gap);
  grid-template-rows: 220px 220px auto; /* first two rows fixed height */
}

.right-ticketlist {
  grid-row: 1 / span 2; /* consumes row 1 and 2 */
}

.right-summary {
  grid-row: 3; /* wide card in the third row */
}

/* Make the Day's Tickets card allocate a scrollable area for the list */
.right-ticketlist {
  display: flex;
  flex-direction: column;
  min-height: 0; /* allow inner scroll area to shrink */
}
.right-ticketlist .ticket-list-scroll {
  flex: 1 1 auto;
  overflow: auto;
  min-height: 0;
}

/* Full-screen overlay */
.overlay{
  position: fixed; inset: 0; z-index: 50;
  background: rgba(15, 23, 42, .45);
  display: grid; place-items: center;
  padding: var(--space-6);
}
.overlay__panel{
  width: min(980px, 100%);
  max-height: 90vh;
  overflow: auto;
  background: var(--panel);
  border-radius: var(--radius-xl);
  padding: var(--card-padding);
}
.overlay__header{
  display: flex; justify-content: space-between; align-items: center;
  position: sticky; top: 0; background: var(--panel);
  padding-bottom: var(--space-3);
  margin-bottom: var(--space-3);
}
